<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Lyfetree</title>
    <!-- Add your CSS stylesheets and other head elements here -->
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <ul>
            <li><a href="{% url 'index' %}">Home</a></li>
            <!-- Add other navigation links as needed -->
        </ul>
    </nav>

    <!-- Page Content -->
    <div class="container">
        {% block content %}{% endblock %}
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; {{ year }} Your Lyfetree</p>
        <!-- Add footer content and links as needed -->
    </footer>

  <!-- Include jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      // Create Milestone
      $('#create-milestone-form').on('submit', function(event) {
        event.preventDefault();
        var formData = $(this).serialize();
        
        $.ajax({
          type: 'POST',
          url: '{% url "create_milestone" %}',
          data: formData,
          success: function(response) {
            // Handle success (e.g., update the milestone list)
            // You may need to implement this based on your requirements
            location.reload(); // For demonstration purposes, we reload the page
          },
          error: function(error) {
            // Handle error
            console.log(error);
          }
        });
      });
  
      // Rename Milestone
      $('#rename-milestone-form').on('submit', function(event) {
        event.preventDefault();
        var formData = $(this).serialize();
        var milestoneId = $(this).data('milestone-id'); // Access the milestone ID
        
        $.ajax({
          type: 'POST',
          url: '{% url "edit_milestone" milestone.id %}', // Use the correct URL tag here
          data: formData,
          success: function(response) {
            // Handle success (e.g., update the milestone list)
            // You may need to implement this based on your requirements
            location.reload(); // For demonstration purposes, we reload the page
          },
          error: function(error) {
            // Handle error
            console.log(error);
          }
        });
      });
  
      // Change Milestone Description
      $('#change-description-form').on('submit', function(event) {
        event.preventDefault();
        var formData = $(this).serialize();
        var milestoneId = $(this).data('milestone-id'); // Access the milestone ID
        
        $.ajax({
          type: 'POST',
          url: '{% url "edit_milestone" milestone.id %}', // Use the correct URL tag here
          data: formData,
          success: function(response) {
            // Handle success (e.g., update the milestone list)
            // You may need to implement this based on your requirements
            location.reload(); // For demonstration purposes, we reload the page
          },
          error: function(error) {
            // Handle error
            console.log(error);
          }
        });
      });
    });
  </script>
  


</body>
</html>
